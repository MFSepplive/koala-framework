'use strict';
const process = require('child_process');

let cache;
function fetchLanguages()
{
    if (cache) return cache;
    let ret = process.spawnSync('vps', ['component-introspection', 'get-all-languages']);
    if (ret.status) {
        return new Error("get-languages failed");
    }
    cache = JSON.parse(ret.stdout);
    return cache;
}

module.exports = fetchLanguages;
